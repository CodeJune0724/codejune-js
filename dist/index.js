!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.index=t():e.index=t()}(self,(()=>(()=>{"use strict";var e={d:(t,s)=>{for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>o});const s={isNull:e=>null==e,isEmpty(e){if(this.isNull(e))return!0;let t=this.getType(e);return t===String&&""===e||t===Array&&0===e.length||t===Object&&0===Object.keys(e).length},getType(e){return this.isNull(e)?null:e.constructor},isObject(e){if(this.isNull(e))return!1;if(e instanceof Object){let t=this.getType(e);return 0===t.toString().indexOf("class")||t===Array||t===Object}return!1},clone(e){if(this.isObject(e)){if(this.getType(e)===Array){let t=[];for(let s of e)t.push(this.clone(s));return t}{let t={};for(let s in e)if(e.hasOwnProperty(s)){let r=e[s];this.isObject(r)?t[s]=this.clone(r):t[s]=null}return this.assignment(t,e),t}}return this.isNull(e)?null:e},assignment(e,t,s){let r=this.getType(e);if(this.isObject(e)&&this.isObject(t))if(r===Array){let i=!0;if(!0===s&&this.getType(t)!==Array&&(i=!1),r!==this.getType(t)&&(i=!1),i){e.splice(0,e.length);for(let s of t)e.push(this.clone(s))}}else for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],n=t[r];if(void 0===n)continue;this.isObject(i)?this.getType(i)===this.getType(n)?this.assignment(i,n):!this.isNull(s)&&this.getType(s)===Boolean&&s||(e[r]=this.clone(n)):!this.isNull(s)&&this.getType(s)===Boolean&&s?(this.isNull(i)||this.getType(i)===this.getType(n))&&(e[r]=this.clone(n)):e[r]=this.clone(n)}},toStr(e){return this.isNull(e)?null:this.isObject(e)?JSON.stringify(e):e.toString()},clean(e){if(this.isObject(e))for(let t in e)if(e.hasOwnProperty(t)){let s=e[t];this.getType(s)===Array?e[t]=[]:this.isObject(s)?this.clean(s):e[t]=null}}};class r extends Error{constructor(e){super(e)}}let i=[String,Number,Object,Array,Boolean];class n{constructor(e){if(this.url=null,this.type=null,this.header=null,this.urlData=null,this.data=null,this.check={urlData:null,data:null},this.setContentTypeByJson=!0,s.assignment(this,e),s.isEmpty(this.url))throw new r("url不能为空");if(s.isEmpty(this.type))throw new r("type不能为空");if("get"===this.type&&(this.type="GET"),"post"===this.type&&(this.type="POST"),"put"===this.type&&(this.type="PUT"),"delete"===this.type&&(this.type="DELETE"),"POST"!==this.type&&"GET"!==this.type&&"PUT"!==this.type&&"DELETE"!==this.type)throw new r("type错误");if(!s.isNull(this.header)){if(!s.isObject(this.header))throw new r("header错误");for(let e in this.header)this.header.hasOwnProperty(e)&&(this.header[e]=s.toStr(this.header[e]))}if(!s.isNull(this.urlData)&&!s.isObject(this.urlData))throw new r("urlData错误");if(!s.isNull(this.check.urlData)){if(!n.withType(this.check.urlData))throw new r("check.urlData错误");let e=n.getNewData(this.check.urlData);s.assignment(e,this.urlData,!0),this.urlData=e}if(!s.isNull(this.check.data)){if(!n.withType(this.check.data))throw new r("check.data错误");let e=n.getNewData(this.check.data);s.assignment(e,this.data),this.data=e}if(!s.isNull(this.urlData)){let e="?";for(let t in this.urlData)if(this.urlData.hasOwnProperty(t)){let r=this.urlData[t];s.isNull(r)||(r=s.toStr(r),e=e+t+"="+r+"&")}e="?"!==e?e.substr(0,e.length-1):"",this.url=this.url+e}if(null!==this.data){let e=!1;for(let t in this.data)if(this.data.hasOwnProperty(t)&&s.getType(this.data[t])===File){e=!0;break}if(e){let e=new FormData;for(let t in this.data)this.data.hasOwnProperty(t)&&e.append(t,this.data[t]);this.data=e}else!0===this.setContentTypeByJson&&"POST"===this.type&&(null===this.header&&(this.header={}),this.header["content-type"]="application/json"),this.data=s.toStr(this.data)}}static withType(e){if(!s.isObject(e))return!1;for(let t in e)if(e.hasOwnProperty(t)){let r=e[t];if(s.isObject(r)){if(!n.withType(r))return!1}else{let e=!1;for(let t of i)t===r&&(e=!0);if(!e)return!1}}return!0}static getNewData(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];s.isObject(i)?t[r]=n.getNewData(i):t[r]=null}return t}}let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";const l={encode(e){let t,s,r,i,n,l,h,o="",u=0;for(e=function(e){let t="";e=e.replace(/\r\n/g,"\n");for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e);u<e.length;)t=e.charCodeAt(u++),s=e.charCodeAt(u++),r=e.charCodeAt(u++),i=t>>2,n=(3&t)<<4|s>>4,l=(15&s)<<2|r>>6,h=63&r,isNaN(s)?l=h=64:isNaN(r)&&(h=64),o=o+a.charAt(i)+a.charAt(n)+a.charAt(l)+a.charAt(h);return o},decode(e){let t,s,r,i,n,l,h,o="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)i=a.indexOf(e.charAt(u++)),n=a.indexOf(e.charAt(u++)),l=a.indexOf(e.charAt(u++)),h=a.indexOf(e.charAt(u++)),t=i<<2|n>>4,s=(15&n)<<4|l>>2,r=(3&l)<<6|h,o+=String.fromCharCode(t),64!==l&&(o+=String.fromCharCode(s)),64!==h&&(o+=String.fromCharCode(r));return o=function(e){let t,s,r="",i=0,n=0;for(;i<e.length;)t=e.charCodeAt(i),t<128?(r+=String.fromCharCode(t),i++):t>191&&t<224?(s=e.charCodeAt(i+1),r+=String.fromCharCode((31&t)<<6|63&s),i+=2):(s=e.charCodeAt(i+1),n=e.charCodeAt(i+2),r+=String.fromCharCode((15&t)<<12|(63&s)<<6|63&n),i+=3);return r}(o),o}},h={send:e=>new Promise(((t,r)=>{let i=new n(e),a=new XMLHttpRequest;if(a.open(i.type,i.url),!s.isNull(i.header))for(let e in i.header)i.header.hasOwnProperty(e)&&a.setRequestHeader(e,i.header[e]);s.isNull(i.data)?a.send():a.send(i.data),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?t(a.response):r(a.response))}})),download:e=>new Promise(((t,s)=>{try{let s=new n(e);window.open(s.url),t()}catch(e){s(e)}})),asynchronousDownload:e=>new Promise(((t,r)=>{let i=new n(e),a=new XMLHttpRequest;if(a.open(i.type,i.url),a.responseType="blob",!s.isNull(i.header))for(let e in i.header)i.header.hasOwnProperty(e)&&a.setRequestHeader(e,i.header[e]);a.send(),a.onload=function(){if(200===a.status){let e=new FileReader;e.onload=function(e){let s=e.target.result;if("data:application/json;base64,"===s.substring(0,29)){let e=l.decode(s.substring(29,s.length));return void r(e)}let i=document.createElement("a");i.download=decodeURIComponent(a.getResponseHeader("Content-disposition")).substring(20),i.href=e.target.result,i.click(),t()},e.readAsDataURL(a.response)}else try{a.responseText}catch(e){r(e)}}}))},o={variable:s,http:h,base64:l,file:{select:()=>new Promise((e=>{let t=document.createElement("input");t.type="file",t.addEventListener("change",(function(){let s=t.files[0];e(s)})),t.click()}))},DatabaseService:class{url=null;sendFunction=null;data={query:{request:{page:null,size:null,filter:{},sort:{column:null,orderBy:null}},response:{count:null,data:[]}},save:{request:{},response:{}},saveList:{request:[],response:{}},delete:{request:{},response:{}},deleteList:{request:[],response:{}}};constructor(e,t){this.url=e,this.sendFunction=t}query(e){return this.$send("query",e)}save(e){return this.$send("save",e)}saveList(e){return this.$send("saveList",e)}doDelete(e){return this.$send("delete",e)}deleteList(e){return this.$send("deleteList",e)}$send(e,t){if(s.isEmpty(e))throw new r("type is null");let i;return s.isEmpty(t)||(this.data[e].request=t),i=s.isEmpty(this.sendFunction)||s.getType(this.sendFunction)!==Function?h.send:this.sendFunction,i({url:this.url,type:"POST",data:this.data[e].request}).then((t=>{this.data[e].response=t.data}),h.send)}}};return t})()));